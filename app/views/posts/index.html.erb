<div class="flex flex-col items-center w-full">
  <div class="flex bg-blue-300 mb-4 w-full p-2 gap-2 border-2 text-black rounded transform hover:-translate-y-1 hover:-translate-x-1 transition-transform duration-200">
    <figure class="border border-black w-32 h-32">
    </figure>
    <div class="flex justify-between items-center w-full cursor-pointer">
      <div class="text-4xl">
        <%= @user.name %>
      </div>
      <div class="self-end">
        Number of posts: <%= @user.posts_counter.nil? ? 0 : @user.posts_counter %>
      </div>
    </div>
  </div>

  <%= link_to "Add new post", new_user_post_path(@user), class:"px-4 py-2 rounded font-bold bg-blue-500 text-white mb-4 hover:bg-blue-700"%>

  <% @posts.each do |post| %>
    <div class="w-full bg-blue-200 p-6 rounded-lg shadow-md mb-4 transform hover:-translate-y-1 hover:-translate-x-1 transition-transform duration-200">
      <%= link_to user_post_path(@user, post), class: "flex flex-col" do %>
        <h2 class="text-xl font-semibold mb-2"><%= post.title %></h2>
        <p><%= post.text %></p>
        <p class="self-end text-gray-600">Comments: <%= post.comments_counter || 0 %>, Likes: <%= post.likes_counter || 0 %></p>
      <% end %>
      
      <div class="mt-4">
        <% post.recent_comments.each do |comment| %>
          <div class="bg-gray-100 p-3 rounded-md mb-2">
            <p class="text-sm text-gray-700"><%= comment.user.name %> <%= comment.text %></p>
          </div>
        <% end %>
      </div>
    </div>
  <% end %>
  <div class='flex items-center'>
  <%== pagy_nav(@pagy, link_extra: 'class="inline-block mx-2 px-3 border rounded-lg bg-white text-blue-500"') if @pagy.pages > 1 %>
  </div>
</div>


